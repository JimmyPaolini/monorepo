# Plan: Add TSDoc strings to caelundas

Systematically document the caelundas astronomical calendar application by adding TSDoc comments to ~43 source files, covering all exported functions, types, interfaces, and critical internal logic. Currently ~95% of the codebase lacks documentation, while ESLint requires JSDoc for all exported functions, classes, methods, types, and interfaces. Work incrementally tier-by-tier, organizing specialized files by domain.

## Steps

1. **Create documentation planning reference** — Create [planning/caelundas-tsdoc-implementation.md](planning/caelundas-tsdoc-implementation.md) with TSDoc template patterns, file priority list (5 tiers), domain terminology guide, and `@see` cross-referencing strategy for consistency across all files
2. **Document Tier 1: Critical public API (5 files)** — Add TSDoc to [main.ts](applications/caelundas/src/main.ts), [ephemeris.service.ts](applications/caelundas/src/ephemeris/ephemeris.service.ts), [ephemeris.aggregates.ts](applications/caelundas/src/ephemeris/ephemeris.aggregates.ts), [calendar.utilities.ts](applications/caelundas/src/calendar.utilities.ts), and [types.ts](applications/caelundas/src/types.ts) with `@param`, `@returns`, `@throws`, and `@see` tags; use `runSubagent` as needed
3. **Document Tier 2: Domain logic (5 files)** — Add TSDoc to [aspects.utilities.ts](applications/caelundas/src/events/aspects/aspects.utilities.ts), [majorAspects.events.ts](applications/caelundas/src/events/aspects/majorAspects.events.ts), [retrogrades.events.ts](applications/caelundas/src/events/retrogrades/retrogrades.events.ts), [monthlyLunarCycle.events.ts](applications/caelundas/src/events/monthlyLunarCycle/monthlyLunarCycle.events.ts), [dailySolarCycle.events.ts](applications/caelundas/src/events/dailyCycles/dailySolarCycle.events.ts) with algorithm descriptions
4. **Document Tier 3: Supporting utilities (4 files)** — Add TSDoc to [math.utilities.ts](applications/caelundas/src/math.utilities.ts), [database.utilities.ts](applications/caelundas/src/database.utilities.ts), [duration.utilities.ts](applications/caelundas/src/duration.utilities.ts), [input.schema.ts](applications/caelundas/src/input.schema.ts)
5. **Document Tier 4-5: Specialized generators by domain** — Batch documentation using `runSubagent` organized by: aspect patterns (minor/specialty/triple/quadruple/quintuple/sextuple/stellium), cycles (daily lunar, annual solar, twilights), special events (phases, eclipses, ingresses), and supporting utilities (aspects composition/cache, event-specific utilities, ephemeris constants/types)
6. **Validate all documentation** — Run `nx run caelundas:lint`, `nx run caelundas:test`, and `nx run caelundas:typecheck` to verify ESLint JSDoc requirements, TSDoc syntax, and ensure no regressions
