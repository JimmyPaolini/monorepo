{
  "name": "monorepo",
  "$schema": "node_modules/nx/schemas/project-schema.json",
  "projectType": "application",
  "targets": {
    "lint": {
      "executor": "nx:run-commands",
      "options": {
        "command": "eslint {args} --config eslint.config.base.ts --no-error-on-unmatched-pattern '*.ts' '*.js' '*.json' 'scripts/' 'documentation/'",
        "cwd": "{projectRoot}"
      },
      "description": "Lint workspace root files (config files, scripts, documentation)"
    },
    "typecheck": {
      "executor": "nx:run-commands",
      "options": {
        "command": "tsc --noEmit",
        "cwd": "{projectRoot}"
      },
      "description": "Type-check workspace root TypeScript files"
    },
    "format": {
      "executor": "nx:run-commands",
      "options": {
        "command": "prettier {args} --ignore-unknown .",
        "cwd": "{projectRoot}"
      },
      "description": "Format workspace root files with Prettier"
    },
    "terraform:import": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./scripts/terraform-import.sh",
        "cwd": "{projectRoot}"
      },
      "description": "Import existing infrastructure resources into Terraform state"
    },
    "terraform:plan": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./scripts/terraform-plan.sh",
        "cwd": "{projectRoot}"
      },
      "description": "Run terraform plan to preview infrastructure changes"
    },
    "check-lockfile": {
      "executor": "nx:run-commands",
      "options": {
        "command": "bash scripts/check-lockfile.sh",
        "cwd": "{projectRoot}"
      },
      "description": "Verify that pnpm-lock.yaml is in sync with package.json files"
    },
    "markdown-lint": {
      "executor": "nx:run-commands",
      "options": {
        "command": "markdownlint --config {projectRoot}/.markdownlintrc.json {args} '**/*.md'",
        "cwd": "{projectRoot}"
      },
      "description": "Lint markdown files (use --configuration=write to auto-fix)"
    }
  }
}
