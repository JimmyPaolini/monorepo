{
  "name": "caelundas",
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "sourceRoot": "applications/caelundas",
  "projectType": "application",
  "tags": [],
  "targets": {
    "start": {
      "executor": "nx:run-commands",
      "options": {
        "command": "pnpm start",
        "cwd": "applications/caelundas"
      },
      "description": "Start the Caelundas application"
    },
    "typecheck": {
      "executor": "@nx/js:tsc",
      "outputs": [
        "{options.outputPath}"
      ],
      "options": {
        "outputPath": "dist/applications/caelundas",
        "main": "applications/caelundas/main.ts",
        "tsConfig": "applications/caelundas/tsconfig.json",
        "assets": [
          "applications/caelundas/*.md"
        ]
      },
      "description": "Type-check the application and compile TypeScript"
    },
    "docker-build": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker buildx build --platform linux/amd64 -f applications/caelundas/Dockerfile -t caelundas:1.0.0 -t ghcr.io/jimmypaolini/caelundas:1.0.0 --load .",
        "cwd": "{workspaceRoot}"
      },
      "description": "Build Docker image for linux/amd64 and load it locally"
    },
    "docker-push": {
      "executor": "nx:run-commands",
      "dependsOn": [
        "docker-build"
      ],
      "options": {
        "command": "docker buildx build --platform linux/amd64 -f applications/caelundas/Dockerfile -t ghcr.io/jimmypaolini/caelundas:1.0.0 --push .",
        "cwd": "{workspaceRoot}"
      },
      "description": "Build and push Docker image to GitHub Container Registry"
    },
    "k8s-deploy": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./applications/caelundas/scripts/k8s-deploy.sh",
        "cwd": "{workspaceRoot}"
      },
      "description": "Deploy Caelundas job to Kubernetes with auto-generated release name"
    },
    "k8s-list-jobs": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./applications/caelundas/scripts/k8s-list-jobs.sh",
        "cwd": "{workspaceRoot}"
      },
      "description": "List all Caelundas Kubernetes jobs with metadata"
    },
    "k8s-uninstall": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./applications/caelundas/scripts/k8s-uninstall.sh",
        "cwd": "{workspaceRoot}"
      },
      "description": "Uninstall a Caelundas Helm release and clean up PVC (requires release name argument)"
    },
    "k8s-copy-files": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./applications/caelundas/scripts/k8s-copy-files.sh",
        "cwd": "{workspaceRoot}"
      },
      "description": "Copy files from a completed Caelundas job (requires release name argument)"
    },
    "k8s-list-files": {
      "executor": "nx:run-commands",
      "options": {
        "command": "./applications/caelundas/scripts/k8s-list-files.sh",
        "cwd": "{workspaceRoot}"
      },
      "description": "List files in a Caelundas job's PVC (requires release name argument)"
    }
  }
}